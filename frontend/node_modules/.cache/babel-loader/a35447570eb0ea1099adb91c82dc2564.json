{"ast":null,"code":"import React,{useState,useContext,useEffect}from\"react\";import{Link as RouterLink}from\"react-router-dom\";import Button from\"@material-ui/core/Button\";import CssBaseline from\"@material-ui/core/CssBaseline\";import TextField from\"@material-ui/core/TextField\";import Link from\"@material-ui/core/Link\";import Grid from\"@material-ui/core/Grid\";import Box from\"@material-ui/core/Box\";import Typography from\"@material-ui/core/Typography\";import{makeStyles}from\"@material-ui/core/styles\";import Container from\"@material-ui/core/Container\";import{i18n}from\"../../translate/i18n\";import{AuthContext}from\"../../context/Auth/AuthContext\";import ColorModeContext from\"../../layout/themeContext\";import useSettings from\"../../hooks/useSettings\";import IconButton from\"@material-ui/core/IconButton\";import Brightness4Icon from\"@material-ui/icons/Brightness4\";import Brightness7Icon from\"@material-ui/icons/Brightness7\";import{Checkbox,FormControlLabel}from'@mui/material';import{Helmet}from\"react-helmet\";const Copyright=()=>{return/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",color:\"#fff\",align:\"center\"},\"Copyright \",/*#__PURE__*/React.createElement(Link,{color:\"#fff\",href:\"#\"},\"ZAPRUN\"),\" \",new Date().getFullYear(),\".\");};const customStyle={borderRadius:0,margin:1,boxShadow:\"none\",backgroundColor:'#6d6d6d',color:'white',fontSize:'12px'};const customStyle2={borderRadius:0,margin:1,boxShadow:\"none\",backgroundColor:'#fe9232',color:'white',fontSize:'12px'};const useStyles=makeStyles(theme=>({root:{display:'flex',flexDirection:'row',height:'100vh',[theme.breakpoints.down('sm')]:{flexDirection:'column'}},leftSide:{flex:1,backgroundImage:\"url(/backgroundlogin.gif)\",backgroundSize:'cover',backgroundPosition:'center',display:'flex',alignItems:'center',justifyContent:'center',[theme.breakpoints.down('sm')]:{height:'50vh',backgroundSize:'contain',backgroundRepeat:'no-repeat'}},rightSide:{flex:1,display:'flex',alignItems:'center',justifyContent:'center',backgroundColor:theme.palette.background.default,[theme.breakpoints.down('sm')]:{height:'50vh'}},paper:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",padding:\"55px 30px\"},form:{width:\"100%\",marginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)},powered:{color:\"white\"},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.primary.main},logoImg:{width:\"100%\",maxWidth:\"350px\",height:\"auto\",maxHeight:\"120px\",margin:\"0 auto\",content:\"url(\"+(theme.mode===\"light\"?theme.calculatedLogoLight():theme.calculatedLogoDark())+\")\"},iconButton:{position:\"absolute\",top:10,right:10,color:theme.mode===\"light\"?\"black\":\"white\"}}));const Login=()=>{const classes=useStyles();const{colorMode}=useContext(ColorModeContext);const{appLogoFavicon,appName,mode}=colorMode;const[user,setUser]=useState({email:'',password:'',rememberMe:false});const[allowSignup,setAllowSignup]=useState(false);const{getPublicSetting}=useSettings();const{handleLogin}=useContext(AuthContext);const handleChangeInput=(name,value)=>{setUser({...user,[name]:value});};const handlSubmit=e=>{e.preventDefault();handleLogin(user);};useEffect(()=>{getPublicSetting(\"allowSignup\").then(data=>{setAllowSignup(data===\"enabled\");}).catch(error=>{console.log(\"Error reading setting\",error);});},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,appName||\"ZAPRUN\"),/*#__PURE__*/React.createElement(\"link\",{rel:\"icon\",href:appLogoFavicon||\"/default-favicon.ico\"})),/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(\"div\",{className:classes.rightSide},/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"xs\"},/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.paper},/*#__PURE__*/React.createElement(IconButton,{className:classes.iconButton,onClick:colorMode.toggleColorMode},mode===\"dark\"?/*#__PURE__*/React.createElement(Brightness7Icon,null):/*#__PURE__*/React.createElement(Brightness4Icon,null)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{className:classes.logoImg,alt:\"logo\"})),/*#__PURE__*/React.createElement(\"form\",{className:classes.form,noValidate:true,onSubmit:handlSubmit},/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:i18n.t(\"login.form.email\"),name:\"email\",value:user.email,onChange:e=>handleChangeInput(e.target.name,e.target.value.toLowerCase()),autoComplete:\"email\",autoFocus:true}),/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:i18n.t(\"login.form.password\"),type:\"password\",id:\"password\",value:user.password,onChange:e=>handleChangeInput(e.target.name,e.target.value.toLowerCase()),autoComplete:\"current-password\"}),/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"flex-end\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:6,style:{textAlign:\"right\"}},/*#__PURE__*/React.createElement(Link,{component:RouterLink,to:\"/forgetpsw\",variant:\"body2\"},\"Esqueceu sua senha?\"))),/*#__PURE__*/React.createElement(FormControlLabel,{control:/*#__PURE__*/React.createElement(Checkbox,{checked:user.rememberMe,onChange:e=>handleChangeInput('rememberMe',e.target.checked),color:\"primary\"}),label:\"Lembre-se de mim\"}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",style:customStyle2,className:classes.submit},i18n.t(\"login.buttons.submit\")),/*#__PURE__*/React.createElement(Button,{fullWidth:true,variant:\"contained\",component:RouterLink,style:customStyle,to:\"/signup\"},i18n.t(\"login.buttons.register\")),allowSignup&&/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(Link,{href:\"#\",variant:\"body2\",component:RouterLink,to:\"/signup\"},i18n.t(\"login.buttons.register\")))))))),/*#__PURE__*/React.createElement(\"div\",{className:classes.leftSide})));};export default Login;","map":null,"metadata":{},"sourceType":"module"}