{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _Base = require(\"../styles/Base\");\nvar _autosize = _interopRequireDefault(require(\"autosize\"));\nclass NewLaneTitleEditor extends _react.default.Component {\n  constructor() {\n    super(...arguments);\n    (0, _defineProperty2.default)(this, \"onKeyDown\", e => {\n      if (e.keyCode == 13) {\n        this.refInput.blur();\n        this.props.onSave();\n        e.preventDefault();\n      }\n      if (e.keyCode == 27) {\n        this.cancel();\n        e.preventDefault();\n      }\n      if (e.keyCode == 9) {\n        if (this.getValue().length == 0) {\n          this.cancel();\n        } else {\n          this.props.onSave();\n        }\n        e.preventDefault();\n      }\n    });\n    (0, _defineProperty2.default)(this, \"cancel\", () => {\n      this.setValue('');\n      this.props.onCancel();\n      this.refInput.blur();\n    });\n    (0, _defineProperty2.default)(this, \"getValue\", () => this.refInput.value);\n    (0, _defineProperty2.default)(this, \"setValue\", value => this.refInput.value = value);\n    (0, _defineProperty2.default)(this, \"saveValue\", () => {\n      if (this.getValue() != this.props.value) {\n        this.props.onSave(this.getValue());\n      }\n    });\n    (0, _defineProperty2.default)(this, \"focus\", () => this.refInput.focus());\n    (0, _defineProperty2.default)(this, \"setRef\", ref => {\n      this.refInput = ref;\n      if (this.props.resize != 'none') {\n        (0, _autosize.default)(this.refInput);\n      }\n    });\n  }\n  render() {\n    const _this$props = this.props,\n      autoFocus = _this$props.autoFocus,\n      resize = _this$props.resize,\n      border = _this$props.border,\n      autoResize = _this$props.autoResize,\n      value = _this$props.value,\n      placeholder = _this$props.placeholder;\n    return _react.default.createElement(_Base.InlineInput, {\n      style: {\n        resize: resize\n      },\n      ref: this.setRef,\n      border: border,\n      onKeyDown: this.onKeyDown,\n      placeholder: value.length == 0 ? undefined : placeholder,\n      defaultValue: value,\n      rows: 3,\n      autoResize: autoResize,\n      autoFocus: autoFocus\n    });\n  }\n}\nNewLaneTitleEditor.propTypes = {\n  onSave: _propTypes.default.func,\n  onCancel: _propTypes.default.func,\n  border: _propTypes.default.bool,\n  placeholder: _propTypes.default.string,\n  value: _propTypes.default.string,\n  autoFocus: _propTypes.default.bool,\n  autoResize: _propTypes.default.bool,\n  resize: _propTypes.default.oneOf(['none', 'vertical', 'horizontal'])\n};\nNewLaneTitleEditor.defaultProps = {\n  inputRef: () => {},\n  onSave: () => {},\n  onCancel: () => {},\n  placeholder: '',\n  value: '',\n  border: false,\n  autoFocus: false,\n  autoResize: false,\n  resize: 'none'\n};\nvar _default = NewLaneTitleEditor;\nexports.default = _default;","map":null,"metadata":{},"sourceType":"script"}