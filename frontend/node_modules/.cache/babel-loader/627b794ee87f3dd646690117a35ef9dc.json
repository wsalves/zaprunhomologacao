{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import api from\"../../services/api\";import Button from\"@material-ui/core/Button\";const packageVersion=require(\"../../../package.json\").version;const VersionControl=()=>{const[storedVersion]=useState(window.localStorage.getItem(\"version\")||\"0.0.0\");const handleUpdateVersion=async()=>{window.localStorage.setItem(\"version\",packageVersion);// Mantive apenas para salvar no banco a versao atual\nconst{data}=await api.post(\"/version\",{version:packageVersion});// Limpar o cache do navegador\ncaches.keys().then(function(names){for(let name of names)caches.delete(name);});// Atraso para garantir que o cache foi limpo\nsetTimeout(()=>{window.location.reload(true);// Recarregar a p√°gina\n},1000);};return/*#__PURE__*/React.createElement(\"div\",null,storedVersion!==packageVersion&&/*#__PURE__*/React.createElement(Button,{variant:\"contained\",size:\"small\",style:{backgroundColor:\"red\",color:\"white\",fontWeight:\"bold\",right:\"15px\"},onClick:handleUpdateVersion},\"Nova vers\\xE3o dispon\\xEDvel! Clique aqui para atualizar\"));};export default VersionControl;","map":null,"metadata":{},"sourceType":"module"}